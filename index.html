<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <title>ユニオンサークル募集</title>
  </head>
  <body>
    <div class="flex flex-col justify-center items-center h-[100vh]">
      <div class="!z-5 relative flex flex-col rounded-[20px] max-w-[600px] bg-white bg-clip-border shadow-3xl shadow-shadow-500 w-full !p-6 3xl:p-![18px]">
        <div class="mt-5 mb-10 h-full w-full flex flex-col">
          <div id="statusDisplay" class="text-center rounded-xl bg-gradient-to-br from-[#6025F5] to-[#FF5555] px-5 py-3 text-3xl font-medium text-white transition duration-200">
            Loading...
          </div>
        </div>
        <section>
          <article class="mb-10">
            <span class="text-1xl inline-flex font-semibold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-indigo-300 mb-2">
              Link Code
            </span>
            <span id="codeDisplay" class="flex text-slate-900 text-7xl font-extrabold mb-2">
              --
            </span>
            <p class="text-sm text-slate-500">Last Update: <span id="updatedAtDisplay">--</span></p>
          </article>
        </section>
        <div class="flex items-start gap-2.5 mb-5">
          <img class="w-8 h-8 rounded-full" src="https://pbs.twimg.com/profile_images/1574629552856264706/5rYeyuxr_normal.png" alt="">
          <div class="flex flex-col w-full max-w-[320px] leading-1.5 p-4 border-gray-200 bg-gray-100 rounded-e-xl rounded-es-xl dark:bg-gray-700">
            <div class="flex items-center space-x-2 rtl:space-x-reverse">
              <span class="text-sm font-semibold text-gray-900 dark:text-white">Admin</span>
              <span class="text-sm font-normal text-gray-500 dark:text-gray-400">18:46</span>
            </div>
            <p class="text-sm font-normal py-2.5 text-gray-900 dark:text-white">
              Administrator's Message
            </p>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        fetch('https://api.add.sh/unioncirclestatus/status')
          .then(function(response) {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.json();
          })
          .then(function(data) {
            const item = Array.isArray(data) ? data[0] : data;
            document.getElementById('statusDisplay').textContent = item.status || 'No Status';
            document.getElementById('codeDisplay').textContent = item.code || '--';
            document.getElementById('updatedAtDisplay').textContent = item.updatedAt || '--';
          })
          .catch(function(error) {
            console.error('Error fetching data:', error);
            document.getElementById('statusDisplay').textContent = 'Error loading data';
          });
      });
    </script>
  </body>
</html>
